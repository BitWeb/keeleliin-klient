<div class="modal-header">
    <h4 class="modal-title">
        Ressursi fail
    </h4>
</div>
<div class="modal-body">
    <div class="row">
        <div ng-show="resourceForm.$invalid && resourceForm.submitted" class="alert alert-danger" role="alert">Vormi valideerimisel tekkisid vead!</div>

        <form name="resourceForm" role="form" novalidate>
            <div ng-class="{'has-error': resourceForm.name.$invalid && resourceForm.submitted,  'form-group': true}">
                <label class="control-label">Nimetus*:</label>
                <input name="name" type="text" ng-model="resource.name" placeholder="Ressursi nimetus" class="form-control" required>
                <i ng-show="resourceForm.name.$error.required && resourceForm.submitted">Väli on nõutud</i>
            </div>
            <div class="form-group">
                <label class="control-label">PID:</label>
                <input name="name" type="text" ng-model="resource.pid" placeholder="PID" class="form-control">
            </div>
            <div class="form-group">
                <label class="control-label">Loodud: </label>
                <span>
                    {{resource.createdAt | date : 'dd.MM.yyyy H:mm'}}
                </span>
            </div>
            <div class="form-group">
                <label class="control-label">Suurus: </label>
                <span kl-filesize="{{resource.fileSize}}"></span>
            </div>
            <div class="form-group">
                <label class="control-label">Kirjeldus: </label>
                <textarea name="description" ng-model="resource.description" placeholder="Ressursi kirjeldus" class="form-control"></textarea>
            </div>
            <div class="form-group">
                <label class="control-label">Ressursi tüüp: </label>
                <select
                        name="type"
                        ng-model="resource.resourceTypeId"
                        class="form-control"
                        ng-options="resourceType.id as resourceType.name for resourceType in resourceTypes"
                        required >
                </select>
            </div>
            <div class="form-group">
                <label class="control-label">Avalik viide: </label>
                <button ng-if="!publicUrl" ng-click="loadPublicUrl()" class="btn btn-xs btn-white">Näita <i class="fa fa-caret-down"></i></button>
                <div>
                    <a href="{{publicUrl}}" target="_blank">{{publicUrl}}</a>
                </div>
            </div>
        </form>
    </div>
</div>
<div class="modal-footer">
    <a ng-click="download()" href="" class="btn btn-sm btn-link pull-left"><i class="fa fa-download"></i> Lae alla</a>
    <button type="button" class="btn btn-white btn-sm" ng-click="$dismiss()">Sulge</button>
    <a kl-save-button
       enabled="{{resourceForm.$dirty}}"
       messages="Salvesta:Salvestamine:Salvestatud"
       class="btn btn-primary btn-sm"
       ng-click="save(resourceForm)"></a>
</div>
